<header class="header">
    <h1>HELLO! IT'S TETRIS TIME!</h1>
</header>

<div class="playerForm">
    <h1>GOOD LUCK {{ playerForm.value.playerName }}!!</h1>
    <form [formGroup]="playerForm" (ngSubmit)="onFormSubmit()">
        <label for="playerName">PLAYER NAME: </label>
        <input id="playerName" formControlName="playerName" required minlength="5" />
        <div *ngIf="form.controls['playerName']?.touched && form.controls['playerName']?.errors?.required">
            Player name is required!
        </div>
        <div
            *ngIf="playerForm.get('playerName').invalid && (playerForm.get('playerName').dirty || playerForm.get('playerName').touched)">
            <div *ngIf="playerForm.get('playerName').errors.required">Player name is required!</div>
            <div *ngIf="playerForm.get('playerName').errors.minlength">Player name must be at least 5 characters long!
            </div>
        </div>

        <label for="authCode">AUTH CODE:</label>
        <input id="authCode" formControlName="authCode" required minlength="5" />

        <div
            *ngIf="playerForm.get('authCode').invalid && (playerForm.get('authCode').dirty || playerForm.get('authCode').touched)">
            <div *ngIf="playerForm.get('authCode').errors.required">Auth code is required!</div>
            <div *ngIf="playerForm.get('authCode').errors.minlength">Auth code must be at least 5 characters long!</div>
        </div>
        <label for="colorPalette">Color Palette:</label>
        <select id="colorPalette" formControlName="colorPalette" (change)="onColorPaletteChange()">
            <option value="normal">Normal</option>
            <option value="highContrast">High Contrast</option>
        </select>


        <button type="submit" [disabled]="!form.valid">Go on!</button>
    </form>
</div>
<div *ngIf="readyToPlay">
    <app-tetris.page [playerName]="playerForm.value.playerName" (onGameExit)="onGameFinished($event)"></app-tetris.page>
</div>